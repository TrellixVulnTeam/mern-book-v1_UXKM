{"ast":null,"code":"import _defineProperty from\"D:/Web Projects/mern-book-v1/client/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"D:/Web Projects/mern-book-v1/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"D:/Web Projects/mern-book-v1/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState}from\"react\";import axios from\"axios\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export function UpdateTodo(_ref){var _id=_ref._id,handleClose=_ref.handleClose,handleEdited=_ref.handleEdited;var _useState=useState({title:\"\",description:\"\"}),_useState2=_slicedToArray(_useState,2),data=_useState2[0],setData=_useState2[1];//update \"data\" when input changes\nfunction handleChange(e){setData(function(data){return _objectSpread(_objectSpread({},data),{},_defineProperty({},e.target.name,e.target.value));});}function handleSubmit(e){e.preventDefault();//prevent page reload\nconsole.log({_id:_id},{data:data});axios.put(\"http://localhost:8000/api/todo/\".concat(_id),data).then(function(res){setData({title:\"\",description:\"\"});console.log(res.data.message);}).catch(function(err){console.log(\"Failed to update todo\");console.log(err.message);});}return/*#__PURE__*/_jsxs(\"form\",{className:\"form-container\",onSubmit:function onSubmit(e){handleSubmit(e);handleEdited();handleClose();},children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"title\",className:\"label\",children:\"Title\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"title\",className:\"input\",onChange:handleChange}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"description\",className:\"label\",children:\"Description\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"description\",className:\"input\",onChange:handleChange}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"button\",children:\"Submit\"})]});}","map":{"version":3,"names":["useState","axios","UpdateTodo","_id","handleClose","handleEdited","title","description","data","setData","handleChange","e","target","name","value","handleSubmit","preventDefault","console","log","put","then","res","message","catch","err"],"sources":["D:/Web Projects/mern-book-v1/client/src/components/updateTodo.jsx"],"sourcesContent":["import { useState } from \"react\";\r\nimport axios from \"axios\";\r\n\r\nexport function UpdateTodo({ _id, handleClose, handleEdited }) {\r\n    const [data, setData] = useState({ title: \"\", description: \"\" });\r\n\r\n    //update \"data\" when input changes\r\n    function handleChange(e) {\r\n        setData((data) => ({ ...data, [e.target.name]: e.target.value }));\r\n    }\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault(); //prevent page reload\r\n\r\n        console.log({ _id }, { data });\r\n\r\n        axios\r\n            .put(`http://localhost:8000/api/todo/${_id}`, data)\r\n            .then((res) => {\r\n                setData({ title: \"\", description: \"\" });\r\n                console.log(res.data.message);\r\n            })\r\n            .catch((err) => {\r\n                console.log(\"Failed to update todo\");\r\n                console.log(err.message);\r\n            });\r\n    }\r\n\r\n    return (\r\n        <form\r\n            className=\"form-container\"\r\n            onSubmit={(e) => {\r\n                handleSubmit(e);\r\n                handleEdited();\r\n                handleClose();\r\n            }}\r\n        >\r\n            <label htmlFor=\"title\" className=\"label\">\r\n                Title\r\n            </label>\r\n            <input\r\n                type=\"text\"\r\n                name=\"title\"\r\n                className=\"input\"\r\n                onChange={handleChange}\r\n            />\r\n            <label htmlFor=\"description\" className=\"label\">\r\n                Description\r\n            </label>\r\n            <input\r\n                type=\"text\"\r\n                name=\"description\"\r\n                className=\"input\"\r\n                onChange={handleChange}\r\n            />\r\n            <button type=\"submit\" className=\"button\">\r\n                Submit\r\n            </button>\r\n        </form>\r\n    );\r\n}"],"mappings":"4WAAA,OAASA,QAAT,KAAyB,OAAzB,CACA,MAAOC,MAAP,KAAkB,OAAlB,C,wFAEA,MAAO,SAASC,WAAT,MAAwD,IAAlCC,IAAkC,MAAlCA,GAAkC,CAA7BC,WAA6B,MAA7BA,WAA6B,CAAhBC,YAAgB,MAAhBA,YAAgB,CAC3D,cAAwBL,QAAQ,CAAC,CAAEM,KAAK,CAAE,EAAT,CAAaC,WAAW,CAAE,EAA1B,CAAD,CAAhC,wCAAOC,IAAP,eAAaC,OAAb,eAEA;AACA,QAASC,aAAT,CAAsBC,CAAtB,CAAyB,CACrBF,OAAO,CAAC,SAACD,IAAD,wCAAgBA,IAAhB,wBAAuBG,CAAC,CAACC,MAAF,CAASC,IAAhC,CAAuCF,CAAC,CAACC,MAAF,CAASE,KAAhD,IAAD,CAAP,CACH,CAED,QAASC,aAAT,CAAsBJ,CAAtB,CAAyB,CACrBA,CAAC,CAACK,cAAF,GAAoB;AAEpBC,OAAO,CAACC,GAAR,CAAY,CAAEf,GAAG,CAAHA,GAAF,CAAZ,CAAqB,CAAEK,IAAI,CAAJA,IAAF,CAArB,EAEAP,KAAK,CACAkB,GADL,0CAC2ChB,GAD3C,EACkDK,IADlD,EAEKY,IAFL,CAEU,SAACC,GAAD,CAAS,CACXZ,OAAO,CAAC,CAAEH,KAAK,CAAE,EAAT,CAAaC,WAAW,CAAE,EAA1B,CAAD,CAAP,CACAU,OAAO,CAACC,GAAR,CAAYG,GAAG,CAACb,IAAJ,CAASc,OAArB,EACH,CALL,EAMKC,KANL,CAMW,SAACC,GAAD,CAAS,CACZP,OAAO,CAACC,GAAR,CAAY,uBAAZ,EACAD,OAAO,CAACC,GAAR,CAAYM,GAAG,CAACF,OAAhB,EACH,CATL,EAUH,CAED,mBACI,cACI,SAAS,CAAC,gBADd,CAEI,QAAQ,CAAE,kBAACX,CAAD,CAAO,CACbI,YAAY,CAACJ,CAAD,CAAZ,CACAN,YAAY,GACZD,WAAW,GACd,CANL,wBAQI,cAAO,OAAO,CAAC,OAAf,CAAuB,SAAS,CAAC,OAAjC,mBARJ,cAWI,cACI,IAAI,CAAC,MADT,CAEI,IAAI,CAAC,OAFT,CAGI,SAAS,CAAC,OAHd,CAII,QAAQ,CAAEM,YAJd,EAXJ,cAiBI,cAAO,OAAO,CAAC,aAAf,CAA6B,SAAS,CAAC,OAAvC,yBAjBJ,cAoBI,cACI,IAAI,CAAC,MADT,CAEI,IAAI,CAAC,aAFT,CAGI,SAAS,CAAC,OAHd,CAII,QAAQ,CAAEA,YAJd,EApBJ,cA0BI,eAAQ,IAAI,CAAC,QAAb,CAAsB,SAAS,CAAC,QAAhC,oBA1BJ,GADJ,CAgCH"},"metadata":{},"sourceType":"module"}